# SaikoroTravelApp(公開版)

## 概要

行き先不明の旅行を提供するアプリ「サイコロの旅アプリ」のフロントエンドおよびバックエンドです。  
ユーザーはサイコロを振って次の行程を知るため、ほんの直前までどこに行くかわかりません。  
サイコロの出目は開発側で制御可能なため、あらかじめ予約した宿泊地点、空港、帰着点に誘導できます。

## 公開版とは?/開発履歴は?

プロジェクトがもともと、開発者の友人のためにアプリを専用開発するという雰囲気だったため、  
ソースコード内、コメント、リソースなどに友人の個人情報が含まれた形でprivateのリポジトリで開発していました。
これから、個人情報など公開不能な情報をすべて削除した状態のものが公開版です。
公開版を稼働させるには、削除された箇所を自分の状況に合わせて入力する必要があります。

## 動かすには?

ビルドにはdotnet6を利用します。開発にはvisual studioを推奨しますが、ビルドはコマンドでできます。
`dotnet build`
デバッグ設定でビルドすると、時刻制御など開発機能が有効になります。
本番でばリリース設定を使用してください。

ソースコード内の以下を設定します。
`User*` を実際のユーザー名に置き換えてください。
discordのトークン,fcmのクレデンシャル,postgresqlの接続文字列を構成します。

次に、バックエンドをデプロイします。
開発側ではazureを使用しています。
最後に、フロントエンドをビルド・配布します。ストア掲載がおそらく通らないのでアドホックで配信してください。

## 旅程作成

旅程は以下のjsonで作成します。
開発で使用したものを一部改変して残していますので参考にしてください。
Route.json (行程)
Instruction.json (指示書)
Lottery.json (サイコロ)
それぞれ、スキーマが定義されているため、そのスキーマに添って編集します。
